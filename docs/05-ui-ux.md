# UI/UX 仕様

## 1. 基本方針

仮説の質を標準化するツールである。UI/UXも質の再現性を支える設計とする。とにかく早くするのは避け、操作を極限まで削って「結果だけ」にしない。思想体験UIを目指し、仮説5段の構造を見せる・編集させることで営業思考の型を伝える。

画面は1画面で完結する。入力〜結果表示〜編集〜出力まで同一画面とし、遷移は設けない。結果は同一画面内で下に伸ばす（スクロール）。最小クリックは①生成②エクスポート or コピーとする。

## 2. ユーザーフロー

1. 企業URL（必須）・会社名（任意）を入力する
2. 「生成」を押す
3. ローディング・進捗表示（目標60秒、タイムアウト90秒）のあいだ待機する
4. 事業要約・仮説5段・提案文を表示する
5. 必要に応じて各段・提案文を編集する
6. 再生成は1回のみ押せ、2回目以降はボタンを無効化または非表示とし編集のみ可能であることを案内する
7. 「エクスポート」または「コピー」でテキストを出力する

## 3. 画面構成

上から順に次のブロックを並べる。

- ヘッダー（タイトル・短い説明）
- 入力エリア：企業URL（必須）、会社名（任意）、生成ボタン
- ローディング／進捗（生成中のみ）：進捗メッセージまたはスピナー。目標60秒・タイムアウト90秒を説明してよい
- 結果エリア：事業要約、「仮説である」注意、仮説5段（各段に表示・編集欄）、「提案文は仮説に基づく下書きです」、提案文（表示・編集欄）、再生成ボタン（1回のみ）／編集のみの案内、エクスポート・コピーボタン
- エラー表示（失敗時のみ）：エラーメッセージと再試行の案内

## 4. 入力エリア

企業URLは必須で1件入力とする。バリデーションはURL形式とする。会社名は任意とする。空の場合は要約・タイトルから推定するか「不明」とする。生成ボタンは押下でローディングを開始し、処理中は無効化する。

## 5. ローディング・進捗

「生成」押下から結果表示またはタイムアウトまで表示する。目標は1社あたり60秒以内とする。90秒でタイムアウトとし、タイムアウト時は結果の代わりにエラー表示する。表示内容はスピナーまたは「取得・要約・仮説生成中…」などのメッセージとする。60秒超〜90秒未満のときは「時間がかかっています。しばらくお待ちください。」などを表示する。

## 6. 結果エリア

事業要約は取得したHPに基づく要約テキストを表示する。仮説5段の直上に「以下は、公表されている情報に基づく仮説です。実務では必ずご自身で確認してください。」を常時表示する。提案文の直上に「提案文は仮説に基づく下書きです。」を表示する。仮説5段は必ず1〜5の順で表示し、各段を個別に編集可能とする。再生成ボタンは1回のみ有効とし、1回使用後は無効化または非表示とし「2回目以降は編集のみです」などを案内する。エクスポートは要約・仮説5段（ラベル付き）・提案文を1つのテキストにまとめて.txtでダウンロードする。ファイル名は`仮説_会社名_YYYYMMDD.txt`とする。コピーボタンで同内容をクリップボードにコピーする。

## 7. エラー・失敗時

- タイムアウト（60〜90秒）：「取得できませんでした。URLをご確認のうえ、しばらく経ってから再試行してください。」
- 403/4xx：「このページは取得できませんでした。」
- コンテンツが空：「十分な情報が取得できませんでした。別のURL（例：会社概要ページ）をお試しください。」
- LLMエラー：「仮説の生成に失敗しました。しばらく経ってから再試行してください。」

再試行は再生成1回の枠に合わせる。

## 8. 状態

初期は入力エリアのみ表示する。生成中は入力を無効化しローディングを表示する。成功時はローディングを非表示にし結果エリアを表示する。失敗時は結果の代わりにエラーを表示する。再生成済みは結果を表示し、再生成ボタンは無効または非表示とする。
